montageDefine("daa4856","vendor/requirejs/tests/browsertests/noload/index.html",{text:'<!DOCTYPE html><html><head>\n    <title>Script noload Test</title>\n    <script src=../common.js></script>\n    <script>\n\n    var readyRegExp = /complete|loaded/;\n\n    function onTestScriptLoad(evt) {\n        var node = evt.target || evt.srcElement;\n        if (evt.type === "load" || readyRegExp.test(node.readyState)) {\n            log(node.getAttribute("data-name") + " loaded");\n\n            //Clean up binding.\n            if (node.removeEventListener) {\n                node.removeEventListener("load", onTestScriptLoad, false);\n            } else {\n                //Probably IE.\n                node.detachEvent("onreadystatechange", onTestScriptLoad);\n            }\n        }\n    }\n\n    function onTestError(evt) {\n        var node = evt.target || evt.srcElement,\n            name = node.getAttribute("data-name");\n\n        if (typeof console !== "undefined" && console.log) {\n            console.log(name + \' has error event: \', evt);\n        }\n\n        log(name + " onerror triggered");\n\n        //Clean up binding.\n        if (node.removeEventListener) {\n            node.removeEventListener("error", onTestError, false);\n        } else {\n            //Probably IE.\n            node.detachEvent("onerror", onTestError);\n        }\n    }\n\n    function attachScript(url, name) {\n        var node = document.createElement("script");\n        node.src = url;\n        node.type = "text/javascript";\n        node.charset = "utf-8";\n        node.setAttribute("data-name", name);\n\n        //Set up load listener.\n        if (node.addEventListener) {\n            node.addEventListener("load", onTestScriptLoad, false);\n            node.addEventListener("error", onTestError, false);\n        } else {\n            //Probably IE.\n            node.attachEvent("onreadystatechange", onTestScriptLoad);\n            node.attachEvent("onerror", onTestError);\n        }\n\n        document.getElementsByTagName("head")[0].appendChild(node);\n    }\n\n    //Main logic\n    attachScript(\'404.js\', \'404\');\n\n    var url505 = location.protocol + \'//\' + location.hostname + \':9320/505.js\';\n    attachScript(url505, \'505\');\n\n    var noServerUrl = location.protocol + \'//\' + location.hostname + \':9321/noserver.js\';\n    attachScript(noServerUrl, \'no server\');\n    </script>\n</head>\n<body>\n    <h1>Script noload Test</h1>\n\n    <p>Test if HTTP 404 or 500 calls or down hosts for a script trigger a scripts error handler.</p>\n\n    <p>For this test to receive 500 responses, nodejs needs to run server.js in this directory.</p>\n\n    <p>Output below should be "404 onerror triggered", "500 onerror triggered" and "no server onerror triggered".\n    They may be in a different order, but that is OK.</p>\n\n\n\n\n</body></html>'});