montageDefine("70e9633","binders",{dependencies:["./scope","./observers"],factory:function(e,t){function n(){return Error("").stack.replace(/^.*\n.*\n/,"\n")}function i(e,t,i,r,a,s){return i(S(function(i){if(!a.isActive)try{a.isActive=!0,s&&console.log("SET",s.targetPath,"TO",i,"ON",e,"BECAUSE",s.sourcePath,n()),Array.isArray(e)&&t>>>0===t?e.set(t,i):e[t]=i}finally{a.isActive=!1}}),r)}function r(e,t){return function(n,i,r,a,s){return t(S(function(t){return null!=t?e(S(function(e){return null!=e?e.bindProperty?e.bindProperty(t,n,i,a,s):I(e,t,n,i,a,s):void 0}),r):void 0}),r)}}function a(e,t,i,r,a,s){return i(S(function(i){if(!a.isActive)try{a.isActive=!0,s&&console.log("SET FOR KEY",t,"TO",i,"ON",e,"BECAUSE",s.sourcePath,n()),e.set(t,i)}finally{a.isActive=!1}}),r)}function s(e,t){return function(n,i,r,a,s){return e(S(function(e){return e?t(S(function(t){return null!=t?z(e,t,n,i,a,s):void 0}),r):void 0}),r)}}function o(e,t){return function(i,r,a,s,o){return e(S(function(e){return e?t(S(function(t){return null!=t?i(S(function(i){if(i)(e.has||e.contains).call(e,t)||(o&&console.log("ADD",t,"TO",o.targetPath,"BECAUSE",o.sourcePath,n()),e.add(t));else for(;(e.has||e.contains).call(e,t);)o&&console.log("REMOVE",t,"FROM",o.targetPath,"BECAUSE",o.sourcePath,n()),(e.remove||e["delete"]).call(e,t)}),r):void 0}),a):void 0}),a)}}function l(e,t){return function(i,r,a,s,o){return i(S(function(i){return i?(o&&console.log("BIND",o.targetPath,"TO",o.sourcePath,n()),e(t,r,r,s,o),function(){o&&console.log("UNBIND",o.targetPath,"FROM",o.sourcePath,n())}):void 0}),a)}}function c(e,t,n){return function(i,r,a,s,o){return i(S(function(i){return i?e(S(function(e){function i(e,i,l){M(r.slice(l,l+i.length)),r.swap(l,i.length,e.map(function(e){var i=a.nest(e);return t(n,i,i,s,o)}))}if(e){var r=[],l=x(e,i,a);return function(){M(r),l()}}}),a):void 0}),r)}}function u(e,t,n,i,r,a){var s=E(i),o=D(n,s);return function(n,i,s,l,c){return n(S(function(n){if(null!=n){if(n){var i=e(r,A,s,l,c),u=t(a,A,s,l,c);return function(){i(),u()}}return e(o,s,s,l,c)}}),i)}}function h(e,t,n,i,r,a){var s=E(i),o=T(n,s);return function(n,i,s,l,c){return n(S(function(n){if(null!=n){if(n)return e(o,s,s,l,c);var i=e(r,P,s,l,c),u=t(a,P,s,l,c);return function(){i(),u()}}}),i)}}function d(e,t,n){return function(i,r,a,s,o){return e(S(function(e){return null!=e?e?t(i,r,a,s,o):n(i,r,a,s,o):void 0}),r)}}function p(e){return function(t,n,i){return e(S(function(e){return e?t(S(function(t){null!=t&&(e.splice?e.splice(0,e.length,t):e.clear&&e.add&&(e.clear(),e.add(t)))}),n):void 0}),i)}}function m(e){return function(t,n,i){return e(S(function(e){return e?t(S(function(t){null!=t&&t!==e.one()&&(e.splice?e.splice(0,e.length,t):e.clear&&e.add&&(e.clear(),e.add(t)))}),n):void 0}),i)}}function f(e,t){return function(i,r,a,s,o){return e(S(function(e){return e?i(S(function(t){function i(t,i,r){C(e)||(o&&console.log("SWAPPING",i,"FOR",t,"AT",r,"ON",o.targetPath,n()),e.swap?e.swap(r,i.length,t):e.add&&(e.remove||e["delete"])&&(t.forEach(e.add,e),i.forEach(e.remove||e["delete"],e)))}if(t!==e){if(!t)return e.clear(),void 0;if(t.addRangeChangeListener)return t.addRangeChangeListener(i),i(Array.from(t),Array.from(e),0),function(){t.removeRangeChangeListener(i)}}}),r):t(L.makeLiteralObserver([]),r,a,s,o)}),a)}}function g(e){return function(t,i,r,a,s){return e(S(function(e){return e?t(S(function(t){function i(t,i){if(!a.isActive)try{a.isActive=!0,void 0===t?(s&&s&&console.log("DELETED",s.targetPath,"FOR KEY",i,"ON",e,"BECAUSE",s.sourcePath,n()),Array.isArray(e)?e.splice(i,1):e["delete"](i)):(s&&s&&console.log("SET",s.targetPath,"FOR KEY",i,"TO",t,"ON",e,"BECAUSE",s.sourcePath,n()),e.set(i,t))}finally{a.isActive=!1}}return t?(e.clear(),t.forEach(i),t.addMapChangeListener(i)):(e.clear(),void 0)}),i):void 0}),r)}}function v(e){return function(t,n,i){return e(S(function(e){return e?t(S(function(t){function n(t,n,i){if(!C(e)){var r=e.length-i-n.length;e.swap(r,n.length,t.reversed())}}return t?(t.addRangeChangeListener(n),n(t,e,0),function(){t.removeRangeChangeListener(n)}):(e.clear(),void 0)}),n):void 0}),i)}}function _(e){return function(t,n,i,r,a){return t(S(function(t){return t?Function.noop:e(O,n,i,r,a)}),i)}}function b(e){return function(t,n,i,r,a){return i.parent?e(t,n,i.parent,r,a):void 0}}function y(e,t){return function(n,i,r,a,s){return e(S(function(e){return null!=e?t(n,i,r.nest(e),a,s):void 0}),r)}}function C(e){return e.getRangeChangeDescriptor&&e.getRangeChangeDescriptor().isActive}var w=e("./scope"),L=e("./observers"),S=L.autoCancelPrevious,x=L.observeRangeChange,M=L.cancelEach,E=L.makeNotObserver,T=L.makeOrObserver,D=L.makeAndObserver;L.observeValue;var O=L.makeLiteralObserver(),A=new w(!0),P=new w(!1);t.bindProperty=i;var I=i;t.makePropertyBinder=r,t.bindGet=a;var z=a;t.makeGetBinder=s,t.makeHasBinder=o,t.makeEqualityBinder=l,t.makeEveryBlockBinder=c,t.makeAndBinder=u,t.makeOrBinder=h,t.makeConditionalBinder=d,t.makeOnlyBinder=p,t.makeOneBinder=m,t.makeRangeContentBinder=f,t.makeMapContentBinder=g,t.makeReversedBinder=v,t.makeDefinedBinder=_,t.makeParentBinder=b,t.makeWithBinder=y}});