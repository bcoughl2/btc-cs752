var Component=require("montage/ui/component").Component,ModuleLocation=module.location.replace(/[^\/]+.js$/m,""),SceneTreeNode=require("extras/scene-tree.reel/core/scene-tree-node").SceneTreeNode,NODE_TYPES=require("extras/scene-tree.reel/core/scene-tree-node").SceneTreeNodeTypes,MIME_TYPES=require("extras/scene-tree.reel/core/mime-types");exports.TreeCell=Component.specialize({constructor:{value:function(){this.super()}},hasChildren:{value:!1},configuration:{value:null},name:{value:null},id:{value:null},type:{value:null},_node:{value:null},node:{set:function(e){if(e&&"object"==typeof e&&e.content){var t=e.content,n=t.root;n?e.expanded=!0:this.id=t.glTFElement.baseId,t.rawChildren&&(this.hasChildren=Object.keys(t.rawChildren).length>0),this.name=t.name,this._node=e,this.type=t.type}},get:function(){return this._node}},isDraggable:{value:null},enterDocument:{value:function(e){e&&this.isDraggable&&this._element.addEventListener("dragstart",this,!0)}},captureDragstart:{value:function(e){if(this._node&&this._node.content&&this._node.content.glTFElement){var t=e.dataTransfer;t&&(t.effectAllowed="move",t.setData(MIME_TYPES.TEXT_PLAIN,this._node.content.glTFElement.baseId))}}},draw:{value:function(){if(this.node){var e=this.configuration.get("indentValue")*(this.node.depth-1),t=this.node.content;if(this._element.style.marginLeft=e+this.configuration.get("indentUnit"),this.isDraggable&&this._element.setAttribute("draggable","true"),t&&t instanceof SceneTreeNode&&!t.hasChildren()&&this.classList.add("LastSceneNode"),this.configuration.get("displayNodeType")){var n=this.templateObjects.nodeTypeImage;switch(this.type){case NODE_TYPES.NODE:n.src=ModuleLocation+"icons/cube.png",n.alt="node";break;case NODE_TYPES.LIGHT:n.src=ModuleLocation+"icons/light.png",n.alt="light";break;case NODE_TYPES.CAMERA:n.src=ModuleLocation+"icons/camera.png",n.alt="camera"}}}}}});