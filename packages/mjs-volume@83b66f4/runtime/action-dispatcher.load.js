montageDefine("83b66f4","runtime/action-dispatcher",{dependencies:["montage/core/event/event-manager","montage"],factory:function(e,t){var n=e("montage/core/event/event-manager").defaultEventManager,i=e("montage").Montage,r={COMPONENT_ENTER:"hover",_TOUCH_DOWN:"action"};t.ActionDispatcher=i.specialize({constructor:{value:function(){this.super()}},_scene:{value:null},initWithScene:{value:function(e){return this._scene=e,this}},_findPathToParentsForGlTFElement:{value:function(e,t){if(Array.isArray(t)||(t=[e]),e&&e.parent){var n=e.parent;return t.push(n),this._findPathToParentsForGlTFElement(n,t)}return t}},_isRegisteredListenersForEventTypeOnComponent:{value:function(e,t){var i=r[e];if(n&&i&&t.uuid){var a=n.registeredEventListeners[i];if(a)return!!a[t.uuid]}return!1}},_isComponentStyleRespondToAction:{value:function(e,t){var n=r[e],i=t._style;return n&&n!==r._TOUCH_DOWN&&i&&"object"==typeof i&&i.hasOwnProperty(n)}},dispatchActionOnGlTFElement:{value:function(e,t){if("string"==typeof e&&t&&"object"==typeof t){var n=this._findPathToParentsForGlTFElement(t),i=this;n.some(function(n){var r=n.component3D;return r&&(i._isRegisteredListenersForEventTypeOnComponent(e,r)||i._isComponentStyleRespondToAction(e,r))?(r.handleActionOnGlTFElement(t,e),!0):!1})}}}})}});