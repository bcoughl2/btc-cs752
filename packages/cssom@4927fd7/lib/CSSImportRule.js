var CSSOM={CSSRule:require("./CSSRule").CSSRule,CSSStyleSheet:require("./CSSStyleSheet").CSSStyleSheet,MediaList:require("./MediaList").MediaList};CSSOM.CSSImportRule=function(){CSSOM.CSSRule.call(this),this.href="",this.media=new CSSOM.MediaList,this.styleSheet=new CSSOM.CSSStyleSheet},CSSOM.CSSImportRule.prototype=new CSSOM.CSSRule,CSSOM.CSSImportRule.prototype.constructor=CSSOM.CSSImportRule,CSSOM.CSSImportRule.prototype.type=3,Object.defineProperty(CSSOM.CSSImportRule.prototype,"cssText",{get:function(){var e=this.media.mediaText;return"@import url("+this.href+")"+(e?" "+e:"")+";"},set:function(e){for(var t,n,i=0,r="",a="";n=e.charAt(i);i++)switch(n){case" ":case"	":case"\r":case"\n":case"\f":"after-import"===r?r="url":a+=n;break;case"@":r||e.indexOf("@import",i)!==i||(r="after-import",i+="import".length,a="");break;case"u":if("url"===r&&e.indexOf("url(",i)===i){if(t=e.indexOf(")",i+1),-1===t)throw i+': ")" not found';i+="url(".length;var s=e.slice(i,t);s[0]===s[s.length-1]&&('"'===s[0]||"'"===s[0])&&(s=s.slice(1,-1)),this.href=s,i=t,r="media"}break;case'"':if("url"===r){if(t=e.indexOf('"',i+1),!t)throw i+": '\"' not found";this.href=e.slice(i+1,t),i=t,r="media"}break;case"'":if("url"===r){if(t=e.indexOf("'",i+1),!t)throw i+': "\'" not found';this.href=e.slice(i+1,t),i=t,r="media"}break;case";":"media"===r&&a&&(this.media.mediaText=a.trim());break;default:"media"===r&&(a+=n)}}}),exports.CSSImportRule=CSSOM.CSSImportRule;