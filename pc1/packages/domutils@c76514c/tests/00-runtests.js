function compare(e,i){if(typeof e!=typeof i)throw Error("types didn't match");if("object"==typeof e&&null!==e)for(var t in e){if(!(t in i))throw Error("result didn't contain property "+t);compare(e[t],i[t])}else if(e!==i)throw Error("result doesn't equal expected")}function runTests(e){fs.readdirSync(__dirname+e.dir).map(function(i){return"."===i[0]?!1:".json"===i.substr(-5)?JSON.parse(fs.readFileSync(__dirname+e.dir+i)):require(__dirname+e.dir+i)}).forEach(function(i){if(i){var t=!1;runCount++,console.log("Testing:",i.name),e.test(i,function(e,s){assert.ifError(e),compare(i.expected,s),t?(runCount--,testCount++):t=!0})}}),console.log("->",e.dir.slice(1,-1),"started")}var fs=require("fs"),assert=require("assert"),runCount=0,testCount=0;["./02-dom_utils.js"].map(require).forEach(runTests),function check(){return 0!==runCount?process.nextTick(check):(console.log("Total tests:",testCount),void 0)}();