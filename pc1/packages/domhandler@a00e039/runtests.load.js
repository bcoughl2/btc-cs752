montageDefine("a00e039","runtests",{dependencies:["fs","path","assert","htmlparser2","./"],factory:function(e){function i(e,t){if(a.equal(typeof e,typeof t,"types didn't match"),"object"!=typeof e||null===e)a.strictEqual(e,t,"result doesn't equal expected");else for(var s in e)a.ok(s in t,"result didn't contain property "+s),i(e[s],t[s])}var t=e("fs"),s=e("path"),a=e("assert"),u=e("htmlparser2").Parser,n=e("./"),l=s.resolve(__dirname,"tests"),r=5;t.readdirSync(l).filter(RegExp.prototype.test,/\.json$/).map(function(e){return s.resolve(l,e)}).map(e).forEach(function(e){console.log("Testing:",e.name);for(var t=new n(function(t,s){a.ifError(t),i(e.expected,s)},e.options.handler),s=e.html,l=new u(t,e.options.parser),o=0;s.length>o;o+=r)l.write(s.substring(o,o+r));l.done(),l.parseComplete(s)}),console.log("\nAll tests passed!")}});