var CSSOM={CSSStyleDeclaration:require("./CSSStyleDeclaration").CSSStyleDeclaration,CSSRule:require("./CSSRule").CSSRule};CSSOM.CSSStyleRule=function(){CSSOM.CSSRule.call(this),this.selectorText="",this.style=new CSSOM.CSSStyleDeclaration,this.style.parentRule=this},CSSOM.CSSStyleRule.prototype=new CSSOM.CSSRule,CSSOM.CSSStyleRule.prototype.constructor=CSSOM.CSSStyleRule,CSSOM.CSSStyleRule.prototype.type=1,Object.defineProperty(CSSOM.CSSStyleRule.prototype,"cssText",{get:function(){var e;return e=this.selectorText?this.selectorText+" {"+this.style.cssText+"}":""},set:function(e){var t=CSSOM.CSSStyleRule.parse(e);this.style=t.style,this.selectorText=t.selectorText}}),CSSOM.CSSStyleRule.parse=function(e){for(var t,n,i,r=0,a="selector",s=r,o="",l={selector:!0,value:!0},c=new CSSOM.CSSStyleRule,u="";i=e.charAt(r);r++)switch(i){case" ":case"	":case"\r":case"\n":case"\f":if(l[a])switch(e.charAt(r-1)){case" ":case"	":case"\r":case"\n":case"\f":break;default:o+=" "}break;case'"':if(s=r+1,t=e.indexOf('"',s)+1,!t)throw'" is missing';o+=e.slice(r,t),r=t-1;break;case"'":if(s=r+1,t=e.indexOf("'",s)+1,!t)throw"' is missing";o+=e.slice(r,t),r=t-1;break;case"/":if("*"===e.charAt(r+1)){if(r+=2,t=e.indexOf("*/",r),-1===t)throw new SyntaxError("Missing */");r=t+1}else o+=i;break;case"{":"selector"===a&&(c.selectorText=o.trim(),o="",a="name");break;case":":"name"===a?(n=o.trim(),o="",a="value"):o+=i;break;case"!":"value"===a&&e.indexOf("!important",r)===r?(u="important",r+="important".length):o+=i;break;case";":"value"===a?(c.style.setProperty(n,o.trim(),u),u="",o="",a="name"):o+=i;break;case"}":if("value"===a)c.style.setProperty(n,o.trim(),u),u="",o="";else{if("name"===a)break;o+=i}a="selector";break;default:o+=i}return c},exports.CSSStyleRule=CSSOM.CSSStyleRule;